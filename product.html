<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Semua Produk - MyAudio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .page-header {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); padding: 2rem;
            border-radius: 15px; margin-bottom: 2rem; color: white;
        }
        .page-header h1 {
            font-weight: 800; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent; display: inline-block;
        }
        .category-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;
            padding: 0.5rem 1.5rem; border-radius: 25px; font-weight: 600; display: inline-block;
            margin-left: 1rem; font-size: 0.9rem;
        }
        .product-img { height: 180px; object-fit: contain; padding: 1rem; background: #f8fafc; }
        .price-tag { font-size: 1.1rem; font-weight: 700; color: #10b981; }
        .stock-badge {
            position: absolute; top: 10px; right: 10px; background: #10b981; color: white;
            padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600;
        }
        .back-home {
            color: #cbd5e1; text-decoration: none; display: inline-flex; align-items: center;
            margin-bottom: 1rem; transition: color 0.3s ease;
        }
        .back-home:hover { color: #ffffff; }
        .category-title {
            border-left: 5px solid #667eea;
            padding-left: 15px;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }
        .category-title:first-of-type {
            margin-top: 0;
        }
        .filter-badge {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .filter-badge:hover {
            transform: scale(1.1);
            opacity: 0.9;
        }
        .filter-active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            color: white !important;
        }
        .product-count {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0.25rem 1rem;
            font-size: 0.9rem;
        }
        .discount-badge {
            position: absolute; top: 10px; left: 10px; background: #ef4444; color: white;
            padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600;
        }
        .original-price {
            text-decoration: line-through; color: #94a3b8; font-size: 0.9rem; margin-right: 5px;
        }
        .sold-out {
            background: #ef4444 !important;
        }
        @media (max-width: 576px) {
            .page-header { padding: 1.5rem; }
            .category-badge { margin-left: 0; margin-top: 0.5rem; display: block; }
        }
    </style>
</head>
<body>
    <header class="top-header">
        <div class="container-fluid">
            <div class="top-header-content">
                <div class="menu-toggle-btn" onclick="toggleSidebar()">
                    <i class="bi bi-list"></i>
                </div>
                <div class="d-none d-md-block">
                    <span class="logo-text">MyAudio</span>
                </div>
                <div class="search-container">
                    <form onsubmit="searchProducts(event)">
                        <input class="form-control search-box" type="search" placeholder="Cari semua produk..." id="mainSearch">
                    </form>
                </div>
                <div class="top-right-menu">
                    <a href="buku-tamu.html" class="btn btn-add-item">
                        <i class="bi bi-book me-1"></i> Buku Tamu
                    </a>
                    <a href="login.html" class="btn btn-login">
                        <i class="bi bi-person-circle me-1"></i> Login
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <nav class="sidebar-nav" id="sidebarNav">
        <div class="sidebar-brand">
            <span class="logo">MyAudio</span>
            <div class="tagline">Premium Sound Experience</div>
        </div>
        <ul class="navbar-nav flex-column">
            <li class="nav-item"><a class="nav-link" href="index.html"><i class="bi bi-house-door"></i> Beranda</a></li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle active" href="#" data-bs-toggle="dropdown">
                    <i class="bi bi-earbuds"></i> Koleksi IEM
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="product_el.html">Entry Level</a></li>
                    <li><a class="dropdown-item" href="product_mr.html">Mid-Range</a></li>
                    <li><a class="dropdown-item" href="product_f.html">Flagship</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item active" href="product.html">Semua Produk</a></li>
                </ul>
            </li>
            <li class="nav-item"><a class="nav-link" href="index.html#koleksi-dac"><i class="bi bi-speaker"></i> DAC & Amp</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#koleksi-aksesoris"><i class="bi bi-tools"></i> Aksesoris Audio</a></li>
            <li class="nav-item"><a class="nav-link" href="buku-tamu.html"><i class="bi bi-book"></i> Buku Tamu</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#kontak"><i class="bi bi-info-circle"></i> Tentang Studio</a></li>
        </ul>
        <div class="sidebar-contact">
            <h6 class="text-white mb-3">Hubungi Kami</h6>
            <div class="contact-item"><i class="bi bi-whatsapp"></i>0852-6107-1460</div>
            <div class="contact-item"><i class="bi bi-instagram"></i>@Kenzy.ch</div>
            <div class="contact-item"><i class="bi bi-geo-alt"></i>Studio MyAudio</div>
            <div class="contact-item"><i class="bi bi-clock"></i>09:00 - 18:00 WIB</div>
        </div>
    </nav>

    <main class="main-content" id="mainContent">
        <div class="page-header">
            <a href="index.html" class="back-home"><i class="bi bi-arrow-left me-2"></i> Kembali ke Beranda</a>
            <h1 class="display-5">Semua Produk MyAudio</h1>
            <span class="category-badge">Koleksi Lengkap Audio Premium</span>
            <p class="mt-3 mb-0 text-light">Semua In-Ear Monitor, DAC, dan aksesoris audio premium dalam satu tempat.</p>
            <div class="d-flex align-items-center mt-3">
                <span class="product-count text-light me-3" id="productCount">14 produk tersedia</span>
                <div class="d-flex gap-2" id="filterTags">
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h6 class="card-title mb-3">Filter Produk</h6>
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge bg-secondary filter-badge" onclick="filterProducts('all')" id="filterAll">Semua</span>
                            <span class="badge bg-info text-dark filter-badge" onclick="filterProducts('Hybrid')">Hybrid</span>
                            <span class="badge bg-secondary filter-badge" onclick="filterProducts('Dynamic')">Dynamic</span>
                            <span class="badge bg-warning text-dark filter-badge" onclick="filterProducts('Flagship')">Flagship</span>
                            <span class="badge bg-success filter-badge" onclick="filterProducts('Studio')">Studio</span>
                            <span class="badge bg-primary filter-badge" onclick="filterProducts('Dongle DAC')">DAC</span>
                            <span class="badge bg-danger filter-badge" onclick="filterProducts('Kabel')">Kabel</span>
                            <span class="badge bg-dark filter-badge" onclick="filterProducts('Bluetooth')">Bluetooth</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <section id="all-products">
            <!-- Entry Level IEM -->
            <h3 class="category-title">Entry Level IEM</h3>
            <div class="row g-4 mb-5">
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Hybrid" data-price="750000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/3.webp" class="card-img-top product-img" alt="Sonic Pro">
                        <div class="card-body">
                            <span class="badge bg-info mb-2 text-dark">Hybrid</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Sonic Pro</h5>
                            <p class="card-text small text-muted mb-2">1DD + 2BA | 112dB</p>
                            <p class="card-text price-tag mb-3">Rp 750.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Sonic Pro', '750000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Dynamic" data-price="450000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/4.webp" class="card-img-top product-img" alt="Bass Head">
                        <div class="card-body">
                            <span class="badge bg-secondary mb-2">Dynamic</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Bass Head</h5>
                            <p class="card-text small text-muted mb-2">10mm Bass Driver</p>
                            <p class="card-text price-tag mb-3">Rp 450.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Bass Head', '450000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Dynamic" data-price="550000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/25.webp" class="card-img-top product-img" alt="Sonic Lite">
                        <div class="card-body">
                            <span class="badge bg-secondary mb-2">Dynamic</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Sonic Lite</h5>
                            <p class="card-text small text-muted mb-2">10mm DD | 110dB</p>
                            <p class="card-text price-tag mb-3">Rp 550.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Sonic Lite', '550000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Bass Focus" data-price="650000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/26.webp" class="card-img-top product-img" alt="Bass Basic">
                        <div class="card-body">
                            <span class="badge bg-warning text-dark mb-2">Bass Focus</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Bass Basic</h5>
                            <p class="card-text small text-muted mb-2">12mm DD | Bass Enhanced</p>
                            <p class="card-text price-tag mb-3">Rp 650.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Bass Basic', '650000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mid-Range IEM -->
            <h3 class="category-title">Mid-Range IEM</h3>
            <div class="row g-4 mb-5">
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Hybrid" data-price="1200000">
                        <span class="stock-badge">Tersedia</span>
                        <span class="discount-badge">Diskon 10%</span>
                        <img src="img/5.webp" class="card-img-top product-img" alt="Clarity X">
                        <div class="card-body">
                            <span class="badge bg-success mb-2">Studio</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Clarity X</h5>
                            <p class="card-text small text-muted mb-2">Neutral Sound | Mid-Range</p>
                            <p class="mb-1"><span class="original-price">Rp 1.350.000</span></p>
                            <p class="card-text price-tag mb-3">Rp 1.200.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Clarity X', '1200000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Hybrid" data-price="1500000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/6.webp" class="card-img-top product-img" alt="Pro Hybrid">
                        <div class="card-body">
                            <span class="badge bg-info mb-2 text-dark">Hybrid</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Pro Hybrid</h5>
                            <p class="card-text small text-muted mb-2">2DD + 4BA | Mid-Range</p>
                            <p class="card-text price-tag mb-3">Rp 1.500.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Pro Hybrid', '1500000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Flagship IEM -->
            <h3 class="category-title">Flagship IEM</h3>
            <div class="row g-4 mb-5">
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Flagship" data-price="2150000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/23.webp" class="card-img-top product-img" alt="Reference">
                        <div class="card-body">
                            <span class="badge bg-warning text-dark mb-2">Flagship</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Reference</h5>
                            <p class="card-text small text-muted mb-2">Planar Magnetic | Flagship</p>
                            <p class="card-text price-tag mb-3">Rp 2.150.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Reference', '2150000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Flagship" data-price="3000000">
                        <span class="stock-badge sold-out">Habis</span>
                        <img src="img/24.webp" class="card-img-top product-img" alt="Ultimate">
                        <div class="card-body">
                            <span class="badge bg-warning text-dark mb-2">Flagship</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Ultimate</h5>
                            <p class="card-text small text-muted mb-2">8BA + 1DD | Flagship</p>
                            <p class="card-text price-tag mb-3">Rp 3.000.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm disabled">Pre-Order</button></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DAC & Amps -->
            <h3 class="category-title">DAC & Portable Amps</h3>
            <div class="row g-4 mb-5">
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Dongle DAC" data-price="450000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/13.webp" class="card-img-top product-img" alt="Flow M1">
                        <div class="card-body">
                            <span class="badge bg-secondary mb-2">Dongle DAC</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Flow M1</h5>
                            <p class="card-text small text-muted mb-2">ESS Sabre | Hi-Res 32-bit</p>
                            <p class="card-text price-tag mb-3">Rp 450.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Flow M1', '450000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Bluetooth" data-price="1100000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/9.webp" class="card-img-top product-img" alt="Air Link">
                        <div class="card-body">
                            <span class="badge bg-primary mb-2">Bluetooth</span>
                            <h5 class="card-title h6 fw-bold">MyAudio - Air Link</h5>
                            <p class="card-text small text-muted mb-2">LDAC | Balanced 4.4mm</p>
                            <p class="card-text price-tag mb-3">Rp 1.100.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('MyAudio - Air Link', '1100000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Kabel & Aksesoris -->
            <h3 class="category-title">Kabel & Aksesoris Audio</h3>
            <div class="row g-4 mb-5">
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Kabel" data-price="350000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/10.webp" class="card-img-top product-img" alt="Elite Cable">
                        <div class="card-body">
                            <span class="badge bg-warning text-dark mb-2">Silver Plated</span>
                            <h5 class="card-title h6 fw-bold">Elite Cable 8-Core</h5>
                            <p class="card-text small text-muted mb-2">0.78mm | SPC Material</p>
                            <p class="card-text price-tag mb-3">Rp 350.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('Elite Cable 8-Core', '350000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Kabel" data-price="250000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/10.webp" class="card-img-top product-img" alt="Basic Cable">
                        <div class="card-body">
                            <span class="badge bg-secondary mb-2">Copper</span>
                            <h5 class="card-title h6 fw-bold">Basic Cable 4-Core</h5>
                            <p class="card-text small text-muted mb-2">0.78mm | OFC Material</p>
                            <p class="card-text price-tag mb-3">Rp 250.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('Basic Cable 4-Core', '250000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Aksesoris" data-price="150000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/9.webp" class="card-img-top product-img" alt="Carrying Case">
                        <div class="card-body">
                            <span class="badge bg-info text-dark mb-2">Aksesoris</span>
                            <h5 class="card-title h6 fw-bold">Hard Carrying Case</h5>
                            <p class="card-text small text-muted mb-2">Waterproof | Compact</p>
                            <p class="card-text price-tag mb-3">Rp 150.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('Hard Carrying Case', '150000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card h-100 shadow-sm" data-category="Aksesoris" data-price="80000">
                        <span class="stock-badge">Tersedia</span>
                        <img src="img/13.webp" class="card-img-top product-img" alt="Eartips Set">
                        <div class="card-body">
                            <span class="badge bg-success mb-2">Aksesoris</span>
                            <h5 class="card-title h6 fw-bold">Eartips Set (6 pasang)</h5>
                            <p class="card-text small text-muted mb-2">Silicone & Foam | All Sizes</p>
                            <p class="card-text price-tag mb-3">Rp 80.000</p>
                            <div class="d-grid"><button class="btn btn-dark btn-sm" onclick="buyProduct('Eartips Set', '80000')">Beli Sekarang</button></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Summary -->
        <div class="card shadow-sm mb-5">
            <div class="card-body text-center">
                <h5 class="card-title">Total Produk Tersedia</h5>
                <div class="row mt-4">
                    <div class="col-6 col-md-3">
                        <div class="display-6 fw-bold text-primary">8</div>
                        <small>IEM</small>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="display-6 fw-bold text-info">2</div>
                        <small>DAC/Amp</small>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="display-6 fw-bold text-success">4</div>
                        <small>Aksesoris</small>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="display-6 fw-bold text-warning">14</div>
                        <small>Total Produk</small>
                    </div>
                </div>
                <p class="mt-4 mb-0 text-muted small">Semua produk original dengan garansi resmi 1 tahun. Unit demo tersedia di studio.</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="theme-bg text-white py-4 mt-5">
        <div class="container text-center">
            <h5 class="fw-bold mb-0">MyAudio - Semua Produk</h5>
            <p class="small opacity-75 mt-2">&copy; 2026 MyAudio Studio. Premium Audio Collection.</p>
            <div class="mt-2">
                <a href="index.html" class="text-white-50 text-decoration-none me-3">Beranda</a>
                <a href="product_el.html" class="text-white-50 text-decoration-none me-3">Entry Level</a>
                <a href="product_mr.html" class="text-white-50 text-decoration-none me-3">Mid-Range</a>
                <a href="product_f.html" class="text-white-50 text-decoration-none me-3">Flagship</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Data produk
        let allProducts = [];
        let currentFilter = 'all';

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            window.dispatchEvent(new Event('resize'));
            
            // Collect all products
            const productCards = document.querySelectorAll('.card[data-category][data-price]');
            productCards.forEach(card => {
                allProducts.push({
                    element: card,
                    category: card.dataset.category,
                    price: parseInt(card.dataset.price),
                    title: card.querySelector('.card-title').textContent
                });
            });

            // Update product count
            updateProductCount();
            
            // Initialize filter tags
            initFilterTags();
            
            // Set active filter
            document.getElementById('filterAll').classList.add('filter-active');
            
            // Add event listeners to all buy buttons
            document.querySelectorAll('.btn-dark.btn-sm:not(.disabled)').forEach(button => {
                button.addEventListener('click', function() {
                    const productCard = this.closest('.card');
                    const productName = productCard.querySelector('.card-title').textContent;
                    const productPrice = productCard.querySelector('.price-tag').textContent;
                    const price = productPrice.replace(/[^0-9]/g, '');
                    
                    buyProduct(productName, price);
                });
            });
        });

        // Update product count
        function updateProductCount() {
            const visibleCount = allProducts.filter(p => 
                p.element.style.display !== 'none'
            ).length;
            
            document.getElementById('productCount').textContent = 
                `${visibleCount} produk ditemukan`;
        }

        // Initialize filter tags
        function initFilterTags() {
            const tagsContainer = document.getElementById('filterTags');
            const categories = [...new Set(allProducts.map(p => p.category))];
            
            categories.forEach(category => {
                const count = allProducts.filter(p => p.category === category).length;
                const tag = document.createElement('span');
                tag.className = 'badge bg-light text-dark';
                tag.style.cursor = 'pointer';
                tag.textContent = `${category} (${count})`;
                tag.onclick = () => filterProducts(category);
                tagsContainer.appendChild(tag);
            });
        }

        // Filter products
        function filterProducts(category) {
            currentFilter = category;
            
            // Update active filter button
            document.querySelectorAll('.filter-badge').forEach(badge => {
                badge.classList.remove('filter-active');
            });
            
            if (category === 'all') {
                document.getElementById('filterAll').classList.add('filter-active');
            } else {
                document.querySelectorAll('.filter-badge').forEach(badge => {
                    if (badge.textContent.includes(category)) {
                        badge.classList.add('filter-active');
                    }
                });
            }
            
            // Filter products
            allProducts.forEach(product => {
                const showProduct = (currentFilter === 'all' || product.category === currentFilter);
                
                product.element.style.display = showProduct ? 'block' : 'none';
                
                if (!showProduct) {
                    product.element.parentElement.style.display = 'none';
                } else {
                    product.element.parentElement.style.display = 'block';
                    
                    // Highlight matching category
                    if (currentFilter !== 'all' && product.category === currentFilter) {
                        product.element.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.5)';
                        setTimeout(() => {
                            product.element.style.boxShadow = '';
                        }, 2000);
                    }
                }
            });
            
            updateProductCount();
            
            // Scroll to filtered section
            if (category !== 'all') {
                const firstVisible = allProducts.find(p => p.category === category);
                if (firstVisible) {
                    firstVisible.element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }

        // Format price
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Search products
        function searchProducts(e) {
            e.preventDefault();
            const term = document.getElementById('mainSearch').value.toLowerCase();
            
            if (term.trim()) {
                allProducts.forEach(product => {
                    const matches = product.title.toLowerCase().includes(term) || 
                                   product.category.toLowerCase().includes(term);
                    
                    if (matches) {
                        product.element.style.display = 'block';
                        product.element.parentElement.style.display = 'block';
                        
                        // Highlight search term
                        product.element.style.border = '3px solid #10b981';
                        product.element.style.boxShadow = '0 5px 20px rgba(16, 185, 129, 0.3)';
                        
                        setTimeout(() => {
                            product.element.style.border = '';
                            product.element.style.boxShadow = '';
                        }, 3000);
                        
                        // Scroll to first match
                        if (allProducts.indexOf(product) === 0) {
                            product.element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    } else {
                        product.element.style.display = 'none';
                        product.element.parentElement.style.display = 'none';
                    }
                });
                
                const foundCount = allProducts.filter(p => 
                    p.element.style.display !== 'none'
                ).length;
                
                if (foundCount > 0) {
                    alert(`Ditemukan ${foundCount} produk untuk pencarian: "${term}"`);
                } else {
                    alert(`Tidak ditemukan produk untuk pencarian: "${term}"`);
                    // Reset filter
                    filterProducts('all');
                }
                
                updateProductCount();
            }
        }

        // Buy product
        function buyProduct(productName, price) {
            if (confirm(`Tambahkan ${productName} (Rp ${formatPrice(price)}) ke keranjang?`)) {
                alert(`Berhasil! ${productName} telah ditambahkan ke keranjang.\n\nSilakan hubungi kami di WhatsApp untuk pemesanan.`);
                
                // Simpan ke localStorage
                let cart = JSON.parse(localStorage.getItem('myaudio_cart')) || [];
                cart.push({ 
                    name: productName, 
                    price: price,
                    date: new Date().toISOString() 
                });
                localStorage.setItem('myaudio_cart', JSON.stringify(cart));
            }
        }
    </script>
</body>
</html>